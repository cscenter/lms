(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"67Wu":function(e,t,r){"use strict";r("vrRf"),r("IAdD"),r("+KXO");var n=r("ERkP"),a=r.n(n),i=r("cxan"),o=r("+wNj"),s=r("pWxA"),c=r("BFfR"),l=r("zjfJ"),u=r("I9iR"),h=r.n(u),d=new Map,f=new Map,p=new Map,b=0;function v(e,t,r){void 0===r&&(r={}),r.threshold||(r.threshold=0);var n=r,a=n.root,i=n.rootMargin,o=n.threshold;if(h()(!d.has(e),"react-intersection-observer: Trying to observe %s, but it's already being observed by another instance.\nMake sure the `ref` is only used by a single <Observer /> instance.\n\n%s",e),e){var s=function(e){return e?p.has(e)?p.get(e):(b+=1,p.set(e,b.toString()),p.get(e)+"_"):""}(a)+(i?o.toString()+"_"+i:o.toString()),c=f.get(s);c||(c=new IntersectionObserver(g,r),s&&f.set(s,c));var l={callback:t,element:e,inView:!1,observerId:s,observer:c,thresholds:c.thresholds||(Array.isArray(o)?o:[o])};return d.set(e,l),c.observe(e),l}}function m(e){if(e){var t=d.get(e);if(t){var r=t.observerId,n=t.observer,a=n.root;n.unobserve(e);var i=!1,o=!1;r&&d.forEach((function(t,n){n!==e&&(t.observerId===r&&(i=!0,o=!0),t.observer.root===a&&(o=!0))})),!o&&a&&p.delete(a),n&&!i&&n.disconnect(),d.delete(e)}}}function g(e){e.forEach((function(e){var t=e.isIntersecting,r=e.intersectionRatio,n=e.target,a=d.get(n);if(a&&r>=0){var i=a.thresholds.some((function(e){return a.inView?r>e:r>=e}));void 0!==t&&(i=i&&t),a.inView=i,a.callback(i,e)}}))}var y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,Object(l.a)(Object(s.a)(t),"state",{inView:!1,entry:void 0}),Object(l.a)(Object(s.a)(t),"node",null),Object(l.a)(Object(s.a)(t),"handleNode",(function(e){t.node&&m(t.node),t.node=e||null,t.observeNode()})),Object(l.a)(Object(s.a)(t),"handleChange",(function(e,r){(e!==t.state.inView||e)&&t.setState({inView:e,entry:r}),t.props.onChange&&t.props.onChange(e,r)})),t}Object(c.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){0},r.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(m(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(m(this.node),this.node=null)},r.componentWillUnmount=function(){this.node&&(m(this.node),this.node=null)},r.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,r=e.root,n=e.rootMargin;v(this.node,this.handleChange,{threshold:t,root:r,rootMargin:n})}},r.render=function(){var e=this.state,t=e.inView,r=e.entry;if(!function(e){return"function"!=typeof e.children}(this.props))return this.props.children({inView:t,entry:r,ref:this.handleNode});var a=this.props,s=a.children,c=a.as,l=a.tag,u=(a.triggerOnce,a.threshold,a.root,a.rootMargin,a.onChange,Object(o.a)(a,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return Object(n.createElement)(c||l||"div",Object(i.a)({ref:this.handleNode},u),s)},t}(n.Component);Object(l.a)(y,"displayName","InView"),Object(l.a)(y,"defaultProps",{threshold:0,triggerOnce:!1});function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=function(e){!function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}(this,void 0);e.width,e.height;var t=e.src,r=e.className,i=void 0===r?"":r,o=e.rootMargin,s=void 0===o?"150px":o,c=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["width","height","src","className","rootMargin"]),l=function(e){void 0===e&&(e={});var t=Object(n.useRef)(),r=Object(n.useState)({inView:!1,entry:void 0}),a=r[0],i=r[1],o=Object(n.useCallback)((function(r){t.current&&m(t.current),r&&v(r,(function(t,n){i({inView:t,entry:n}),t&&e.triggerOnce&&m(r)}),e),t.current=r}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]);return Object(n.useDebugValue)(a.inView),[o,a.inView,a.entry]}({threshold:0,triggerOnce:!0,rootMargin:s}),u=l[0],h=l[1];return a.a.createElement("div",{ref:u,className:i},h?a.a.createElement("img",O({},c,{src:t})):null)}.bind(void 0);t.a=w},B48j:function(e,t,r){"use strict";r("vrRf"),r("IAdD"),r("+KXO");var n=r("XJ1h"),a=r("ERkP"),i=r.n(a),o=r("O94r"),s=r.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t,r;function a(t){var r,a=this;return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=e.call(this,t)||this),"computeTabIndex",function(){!function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}(this,a);var e=r.props,t=e.disabled,i=e.tabIndex;return Object(n.a)(i)?t?-1:void 0:i}.bind(this)),r.state={},r}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e,t=this.props,r=t.className,n=t.label,a=t.disabled,o=t.required,l=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["className","label","disabled","required"]),u=this.computeTabIndex(),h=s()(((e={"ui option checkbox":!0})[r]=r.length>0,e.disabled=a,e));return i.a.createElement("label",{className:h},i.a.createElement("input",c({type:"checkbox",required:o,className:"control__input",tabIndex:u},l)),i.a.createElement("span",{className:"control__indicator"}),i.a.createElement("span",{className:"control__description"},n))},a}(i.a.Component);l(u,"defaultProps",{className:"",disabled:!1,required:!1}),t.a=u},DYG5:function(e,t,r){"use strict";var n=r("1aPi"),a=r("gDU4"),i="Expected a function";t.a=function(e,t,r){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return Object(a.a)(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),Object(n.a)(e,t,{leading:o,maxWait:t,trailing:s})}},EW5B:function(e,t,r){"use strict";r.r(t),r.d(t,"polyfills",(function(){return y}));r("1t7P"),r("jQ/y"),r("aLgo"),r("2G9S"),r("LW0h"),r("hCOa"),r("jQ3i"),r("lTEL"),r("7xRU"),r("z84I"),r("tQbP"),r("ho0z"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("JtPf"),r("LqLs"),r("x4t0"),r("87if"),r("+oxZ"),r("kYxP");var n=r("ERkP"),a=r.n(n),i=r("DYG5"),o=r("dOPi"),s=r("GtyH"),c=r.n(s),l=r("uUMr"),u=r("4KB7"),h=r("nw5v"),d=r("67Wu"),f=r("B48j"),p=r("mWjM");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=[Object(u.d)()],O=function(e){var t,r;function s(t){var r,n=this;return g(m(r=e.call(this,t)||this),"handleMultipleCheckboxChange",p.b.bind(m(r))),g(m(r),"handleSelectChange",p.e.bind(m(r))),g(m(r),"handleSearchInputChange",p.d.bind(m(r))),g(m(r),"componentDidMount",function(){v(this,n);r.getFilterState(r.state);r.fetch()}.bind(this)),g(m(r),"componentWillUnmount",(function(){if(this.requests){var e=this.requests,t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}n.abort()}}})),g(m(r),"fetch",function(e){var t=this;void 0===e&&(e=null),v(this,n),r.props,r.requests=r.props.entryURL.map(function(r){return v(this,t),c.a.ajax({type:"GET",url:r,dataType:"json",data:e})}.bind(this)),Promise.all(r.requests).then(function(e){var n=this;v(this,t);var a=[],i=new Set,o=e,s=Array.isArray(o),c=0;for(o=s?o:o[Symbol.iterator]();;){var l;if(s){if(c>=o.length)break;l=o[c++]}else{if((c=o.next()).done)break;l=c.value}var u=l;a=a.concat(u),u.forEach(function(e){v(this,n),i.add(e.year)}.bind(this))}var h=Array.from(i,function(e){return v(this,n),{value:e,label:e}}.bind(this));h.sort(function(e,t){return v(this,n),t.value-e.value}.bind(this)),a.sort(function(e,t){return v(this,n),t.year-e.year}.bind(this)),r.setState({loading:!1,items:a,yearOptions:h})}.bind(this)).catch(function(e){v(this,t),Object(u.h)("Ошибка загрузки данных. Попробуйте перезагрузить страницу.")}.bind(this))}.bind(this)),r.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({loading:!0,items:[],courseNameQuery:"",year:null,yearOptions:[],videoTypes:[]},t.initialState),r.fetch=Object(i.a)(r.fetch,300),r}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var y=s.prototype;return y.componentDidUpdate=function(e,t,r){this.state.loading?this.fetch():Object(u.b)()},y.getFilterState=function(e){var t=this,r={q:e.q,semester:e.semester};return Object.keys(r).map(function(e){v(this,t),"year"===e&&null!==r[e]&&(r[e]=r[e].value),r[e]=r[e]?r[e]:""}.bind(this)),r},y.getLabelColor=function(e){return"course"===e?"_blue":"lecture"===e?"_green":""},y.getVideoTypeLabel=function(e){var t=this.props.videoOptions,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var a;if(r){if(n>=t.length)break;a=t[n++]}else{if((n=t.next()).done)break;a=n.value}var i=a;if(i.value===e)return i.label}return""},y.render=function(){var e=this,t=this.state,r=t.courseNameQuery,i=t.year,s=t.yearOptions,c=t.videoTypes,u=this.props.videoOptions,p=this.state.items.filter((function(e){var t=null===i||e.year===i.value,n=c.includes(e.type);return t&&n&&Object(o.a)(e.name.toLowerCase(),r.toLowerCase())}));return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-lg-9 order-lg-1 order-2"},a.a.createElement("div",{className:"card-deck _three"},p.map(function(t){return v(this,e),a.a.createElement("a",{key:t.type+"_"+t.id,className:"card _shadowed _video",href:t.url},t.preview_url?a.a.createElement(d.a,{src:t.preview_url,alt:t.name,className:"card__img lazy-wrapper"}):"",a.a.createElement("div",{className:"card__content"},a.a.createElement("h4",{className:"card__title"},t.name),a.a.createElement("div",{className:"author"},t.speakers.join(", "))),a.a.createElement("div",{className:"card__content _meta"},a.a.createElement("div",{className:"ui labels _circular"},a.a.createElement("span",{className:"ui label _gray"},t.year),a.a.createElement("span",{className:"ui label "+this.getLabelColor(t.type)},this.getVideoTypeLabel(t.type)))))}.bind(this))),!this.state.loading&&p.length<=0&&"Выберите другие параметры фильтрации."),a.a.createElement("div",{className:"col-lg-3 order-lg-2 order-0"},a.a.createElement("div",{className:"ui form"},a.a.createElement("div",{className:"field"},a.a.createElement(l.a,{name:"courseNameQuery",handleSearch:this.handleSearchInputChange,query:r,placeholder:"Название курса",icon:"search"})),a.a.createElement("div",{className:"field mb-2"},a.a.createElement(h.a,{name:"year",onChange:this.handleSelectChange,value:i,isClearable:!0,placeholder:"Год прочтения",options:s,key:"year"})),a.a.createElement("div",{className:"field"},a.a.createElement("div",{className:"grouped inline"},u.map(function(t){return v(this,e),a.a.createElement(f.a,{name:"videoTypes",key:t.value,value:t.value,defaultChecked:!0,onChange:this.handleMultipleCheckboxChange,label:t.label})}.bind(this))))))))},s}(a.a.Component);t.default=O},O94r:function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},XJ1h:function(e,t,r){"use strict";t.a=function(e){return null==e}}}]);