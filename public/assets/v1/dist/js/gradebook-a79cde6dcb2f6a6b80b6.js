webpackJsonp([2],{bYQb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("SLSV"),a=n.n(o),r=$(".marks-sheet-csv-link"),l=($("#marks-sheet-save"),$("#gradebook-container")),i=$("#gradebook"),s=$(".gradebook__controls");function c(t){return t.value!==t.getAttribute("initial")}var u={launch:function(){u.restoreStates(),u.finalGradeSelects(),u.submitForm(),u.downloadCSVButton(),u.scrollButtons()},restoreStates:function(){var t=document.querySelectorAll("#gradebook .__input");Array.prototype.forEach.call(t,u.toggleState);var e=document.querySelectorAll("#gradebook select");Array.prototype.forEach.call(e,u.toggleState)},downloadCSVButton:function(){r.click(function(){if(i.find(".__unsaved").length>0)return a()({title:"",text:"Сперва сохраните форму,\nчтобы скачать актуальные данные.",type:"warning",confirmButtonText:"Хорошо"}),!1})},submitForm:function(){$("form[name=gradebook]").submit(function(t){var e=this.querySelectorAll(".__input, .__final_grade select");Array.prototype.forEach.call(e,function(t){if(!c(t)){t.disabled=!0;var e="input[name=initial-"+t.name+"]";document.querySelector(e).disabled=!0}})})},finalGradeSelects:function(){i.on("change","select",function(t){u.toggleState(t.target)})},assignmentGradeInputValidator:function(){i.on("change","input.__assignment",function(t){var e=parseInt(this.value,10);if($.isNumeric(this.value)&&Number.isInteger(e)){var n=parseInt($(this).attr("max"));e<0?this.value=0:e>n&&(this.value=n)}else this.value="";u.toggleState(t.target)})},toggleState:function(t){var e=void 0;"input"===t.nodeName.toLowerCase()?e=t:"select"===t.nodeName.toLowerCase()&&(e=t.parentElement),c(t)?e.classList.add("__unsaved"):e.classList.remove("__unsaved")},scrollButtons:function(){l.width()<=i.width()&&(s.on("click",".scroll.left",function(){u.scroll(-1)}),s.on("click",".scroll.right",function(){u.scroll(1)}),s.css("visibility","visible"))},scroll:function(t){var e=100*parseInt(t);if(0!==e){var n=l.scrollLeft();l.scrollLeft(n+e)}}};e.default=u}});