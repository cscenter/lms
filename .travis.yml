sudo: false
language: python
dist: trusty
python:
  - "3.6"
addons:
  postgresql: '9.6'
install:
  - pip install pipenv
  - pipenv sync --dev
before_script:
  - psql -c 'create database travis_ci_test;' -U postgres
  - python manage.py migrate --noinput --settings=compscicenter_ru.settings.test
script:
  - pytest --create-db
  - pytest --create-db --cov=./apps/ --cov=./compscicenter_ru/apps/
