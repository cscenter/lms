{% extends "base.html" %}

{% load i18n %}
{% load static %}
{% load thumbnail %}
{% load markdown from core_tags %}

{% block body_attrs %} data-init-section="lazy-img"{% endblock body_attrs %}

{% block content %}
    <div class="container">
        <h1 class="page-header">{% trans "Teachers" %}</h1>
        <div class="teachers-list">
            {% for user in object_list %}
            <div class="teachers-list-item">{% spaceless %}
                <a href="{% url 'teacher_detail' user.pk %}">
                    {% if user.photo %}
                          {% thumbnail user.photo "220x308" crop="center top" cropbox=user.photo_thumbnail_cropbox as im %}
                            <img width="{{ im.width }}" height="{{ im.height }}"
                                    {% if forloop.counter < 12 %}
                                        src="{{ im.url }}"
                                    {% else %}
                                        class="lazy"
                                        src="{% if user.gender == "M" %}{% static "img/icons/man.png" %}{% else %}{% static "img/icons/woman.png" %}{% endif %}"
                                        data-original="{{ im.url }}"
                                    {% endif %}>
                          {% endthumbnail %}
                    {% else %}
                        <img src="{% if user.gender == "M" %}{% static "img/icons/man.png" %}{% else %}{% static "img/icons/woman.png" %}{% endif %}" width="220" height="308" alt="">
                    {% endif %}
                    {{ user.first_name }} {{ user.patronymic }}<br>
                    {{ user.last_name }}
                </a>
                <div class="org">{{ user.workplace }}</div>
            </div>
            {% endspaceless %}{% endfor %}
        </div>
    </div>

{% endblock content %}
