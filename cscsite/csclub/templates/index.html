{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}
{% load htmlpage_url %}

{% block content %}
<div class="banner _{{ request.city.code|slugify }}">{% if request.city.code == 'RU SPB' %}<div id="copyright">{% trans "Author photo" %}: <a target="_blank" href="https://commons.wikimedia.org/wiki/User:Andrey.Salnikov">{% trans "Andrey Salnikov" %}</a></div>{% endif %}</div>


<div class="container">
  <div class="font-bigger">
  {% blocktrans %}
  The main goal of the Club is to provide undergraduate and graduate students, as well as professionals, access to high quality education in the area of Computer Science. Attendance is open to everyone and is free of charge.
{% endblocktrans %}
  </div>
  <h1>{% trans "Courses" %}: {{ current_semester }}</h1>
  {% if courses %}
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>{% trans "Course name" %}</th>
                <th>{% trans "Teachers" %}</th>
                <th>{% trans "Next lecture" %}</th>
                <th class="_language">{% trans "Language" %}</th>
            </tr>
        </thead>
        <tbody>
              {% for course_offering in courses %}
                <tr>
                  <td><a href="{{ course_offering.get_absolute_url }}">{{ course_offering.course.name }}</a></td>
                  <td>{% for teacher in course_offering.teachers.all %}<a href="{{ teacher.teacher_profile_url }}" style="white-space:nowrap;">{{ teacher.get_abbreviated_name }}</a>{% if not forloop.last %}, {% endif %}{% endfor %}</td>
                  <td>
                    {% if course_offering.classes %}
                      {% with class=course_offering.classes|first %}
                      <a href="{{ class.get_absolute_url }}">{{ class.date|date:"l, d E" }}, {{ class.starts_at }}</a>
                      {% endwith %}
                    {% else %}
                      {% trans "To be announced" %}
                    {% endif %}
                  </td>
                  <td>{% if course_offering.language == 'ru' %}{% trans "Russian" %}{% else %}{% trans "English" %}{% endif %}</td>
                </tr>
              {% endfor %}
          </tbody>
        </table>
  {% else %}
      <p>{% trans "No active courses" %}</p>
  {% endif %}
</div>
{% endblock content %}
