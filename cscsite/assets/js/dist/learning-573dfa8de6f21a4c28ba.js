webpackJsonp([3],{ZaRE:function(t,o,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=e("yXrV"),r=i(n);!function(t){var o,e=t("#o-sidebar"),i=t(".footer"),n=t(".assignment-comment"),a=t("#submission-comment-model-form"),s={Launch:function(){s.initCommentModal(),s.initStickySidebar()},initCommentModal:function(){a.modal({show:!1}),a.on("shown.bs.modal",function(e){var i=t(e.target).find("textarea").get(0);o=r.default.init(i),a.css("opacity","1")}),t(".__edit",n).click(function(o){o.preventDefault();var e=t(this);t.get(this.href,function(o){a.css("opacity","0"),t(".inner",a).html(o),a.modal("toggle")}).error(function(o){403===o.status&&(t.jGrowl("Доступ запрещён. Вероятно, время редактирования комментария истекло.",{position:"bottom-right",theme:"error"}),e.remove())})}),a.on("submit","form",s.submitEventHandler)},submitEventHandler:function(o){o.preventDefault();var e=o.target;return t.ajax({url:e.action,type:"POST",data:t(e).serialize()}).done(function(o){if(1==o.success){a.modal("hide");var e=n.filter(function(){return t(this).data("id")==o.id}),i=t(".ubertext",e);i.html(o.html),r.default.render(i.get(0)),t.jGrowl("Комментарий успешно сохранён.",{position:"bottom-right"})}else t.jGrowl("Комментарий не был сохранён.",{position:"bottom-right",theme:"error"})}).error(function(){t.jGrowl("Комментарий не был сохранён.",{position:"bottom-right",theme:"error"})}),!1},initStickySidebar:function(){var t=e.offset().top-20,o=i.offset().top-75;o-t>500&&(e.affix({offset:{top:t,bottom:i.outerHeight(!0)}}),e.affix("checkPosition"))}};t(document).ready(function(){s.Launch()})}(jQuery)}},["ZaRE"]);