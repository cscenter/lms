webpackJsonp([7],{Tap1:function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(0),a=i(n),r=o("mwlq"),f=i(r),u=(0,a.default)("#o-sidebar"),l=(0,a.default)(".footer"),d=(0,a.default)(".assignment-comment"),s=(0,a.default)("#submission-comment-model-form"),c=void 0,m={Launch:function(){m.initCommentModal(),m.initStickySidebar()},initCommentModal:function(){s.modal({show:!1}),s.on("shown.bs.modal",function(t){var e=(0,a.default)(t.target).find("textarea").get(0);c=f.default.init(e),s.css("opacity","1")}),(0,a.default)(".__edit",d).click(function(t){t.preventDefault();var e=(0,a.default)(this);a.default.get(this.href,function(t){s.css("opacity","0"),(0,a.default)(".inner",s).html(t),s.modal("toggle")}).error(function(t){403===t.status&&(a.default.jGrowl("Доступ запрещён. Вероятно, время редактирования комментария истекло.",{position:"bottom-right",theme:"error"}),e.remove())})}),s.on("submit","form",m.submitEventHandler)},submitEventHandler:function(t){t.preventDefault();var e=t.target;return a.default.ajax({url:e.action,type:"POST",data:(0,a.default)(e).serialize()}).done(function(t){if(1===t.success){s.modal("hide");var e=d.filter(function(){return(0,a.default)(this).data("id")==t.id}),o=(0,a.default)(".ubertext",e);o.html(t.html),f.default.render(o.get(0)),a.default.jGrowl("Комментарий успешно сохранён.",{position:"bottom-right"})}else a.default.jGrowl("Комментарий не был сохранён.",{position:"bottom-right",theme:"error"})}).error(function(){a.default.jGrowl("Комментарий не был сохранён.",{position:"bottom-right",theme:"error"})}),!1},initStickySidebar:function(){var t=u.offset().top-20;l.offset().top-75-t>500&&(u.affix({offset:{top:t,bottom:l.outerHeight(!0)}}),u.affix("checkPosition"))}};(0,a.default)(document).ready(function(){m.Launch()})}},["Tap1"]);