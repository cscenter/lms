webpackJsonp([9],{"0iPh":function(t,o){t.exports=jQuery},Tap1:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e("0iPh"),n=e.n(i),r=e("mwlq"),a=n()("#o-sidebar"),s=n()(".footer"),f=n()(".assignment-comment"),u=n()("#submission-comment-model-form"),c=void 0,m={Launch:function(){m.initCommentModal(),m.initStickySidebar()},initCommentModal:function(){u.modal({show:!1}),u.on("shown.bs.modal",function(t){var o=n()(t.target).find("textarea").get(0);c=r.default.init(o),u.css("opacity","1")}),n()(".__edit",f).click(function(t){t.preventDefault();var o=n()(this);n.a.get(this.href,function(t){u.css("opacity","0"),n()(".inner",u).html(t),u.modal("toggle")}).fail(function(t){403===t.status&&(n.a.jGrowl("Доступ запрещён. Вероятно, время редактирования комментария истекло.",{position:"bottom-right",theme:"error"}),o.remove())})}),u.on("submit","form",m.submitEventHandler)},submitEventHandler:function(t){t.preventDefault();var o=t.target;return n.a.ajax({url:o.action,type:"POST",data:n()(o).serialize()}).done(function(t){if(1===t.success){u.modal("hide");var o=f.filter(function(){return n()(this).data("id")==t.id}),e=n()(".ubertext",o);e.html(t.html),r.default.render(e.get(0)),n.a.jGrowl("Комментарий успешно сохранён.",{position:"bottom-right"})}else n.a.jGrowl("Комментарий не был сохранён.",{position:"bottom-right",theme:"error"})}).fail(function(){n.a.jGrowl("Комментарий не был сохранён.",{position:"bottom-right",theme:"error"})}),!1},initStickySidebar:function(){var t=a.offset().top-20;s.offset().top-75-t>500&&(a.affix({offset:{top:t,bottom:s.outerHeight(!0)}}),a.affix("checkPosition"))}};n()(document).ready(function(){m.Launch()})}},["Tap1"]);